


<ion-content>
	<ion-item>
		<ion-label text-wrap>
			Adding, editing and deleting items asynchronously.
		</ion-label>
	</ion-item>
	<ion-item>
		<ion-label>Port</ion-label>
		<!--
      Use two-way data binding syntax on [(items)] field for
      a port to be deleted from original array as well.
    -->
		<ionic-selectable #portComponent  [(ngModel)]="port" itemValueField="id" itemTextField="name" [(items)]="ports"
		 [canSearch]="true" [canClear]="true" [canAddItem]="true" [canSaveItem]="true" [canDeleteItem]="true" (onSearch)="searchPorts($event)"
		 (onAddItem)="onAddPort($event)" (onSaveItem)="onSavePort($event)" (onDeleteItem)="onDeletePort($event)">
			<ng-template ionicSelectableItemTemplate let-port="item">
				{{port.name}} ({{port.country.name}})
			</ng-template>
			<ng-template ionicSelectableAddItemTemplate let-port="item" let-isAdd="isAdd">
				<form [formGroup]="portForm" novalidate>
					<ion-list>
						<ion-item-divider>
							{{isAdd ? 'Add' : 'Edit'}} Port
						</ion-item-divider>
						<ion-item>
							<ion-label>Name</ion-label>
							<ion-input type="text" formControlName="portName" autocorrect="off" autocapitalize="none">
							</ion-input>
						</ion-item>
						<ion-item>
							<ion-label>Country</ion-label>
							<ionic-selectable item-content formControlName="portCountry" itemValueField="id" itemTextField="name" [items]="countries">
							</ionic-selectable>
						</ion-item>
					</ion-list>
				</form>
				<ion-footer>
					<ion-toolbar>
						<ion-row>
							<ion-col>
								<button ion-button full no-margin (click)="portComponent.hideAddItemTemplate()">
                  Cancel
                </button>
              </ion-col>
              <ion-col>
                <button ion-button full no-margin (click)="isAdd ? addPort() : savePort(port)"
                  [disabled]="!portForm.valid">
                  {{isAdd ? 'Add' : 'Save'}}
                </button>
              </ion-col>
            </ion-row>
          </ion-toolbar>
        </ion-footer>
      </ng-template>
    </ionic-selectable>
  </ion-item>
</ion-content>



<!--
<ion-content>
  <ion-list>
    <ion-item-sliding *ngFor="let item of items" >
    

        <ion-item >
            <ion-thumbnail slot="start">
                <img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
              </ion-thumbnail>
          
          <ion-label>
            {{item.place}} â€¢ {{item.date}}
          </ion-label>
        </ion-item>
                     
      <ion-item-options side="end">
        <button ion-button color="secondary" (click)="viewComments(item)">
        <ion-icon name="text"></ion-icon>
        modifier 
      </button>
        <button ion-button color="primary" (click)="materiel(item)">
        <ion-icon name="medkit"></ion-icon>
        Materiel
      </button>
        <button ion-button color="danger" (click)="delete(item)">
        <ion-icon name="trash"></ion-icon>
        Delete
      </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
  <ion-fab vertical="bottom" horizontal="end" color="primary">
    <ion-fab-button (click)="addArticle()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>&nbsp;
 
</ion-content>
-->